<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SnapQR</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <main class="app">
      <header class="header">
        <h1>SnapQR</h1>
        <p>Captura, comprime y genera tu QR.</p>
      </header>

      <section class="thumbnail" id="thumbnailSection">
        <img id="thumbnail" alt="Vista previa" />
        <p id="thumbnailPlaceholder">Sin captura aún.</p>
      </section>

      <section class="controls">
        <div class="control-row">
          <button id="captureAll" class="primary">Capturar Todo</button>
          <button id="captureArea">Seleccionar Área</button>
          <button id="toggleSettings">Configuración</button>
        </div>

        <div class="action-row">
          <button id="copyImage" disabled>Copiar Imagen</button>
          <button id="generateQr" disabled>Generar QR</button>
          <button id="downloadImage" disabled>Descargar</button>
          <button id="copyDataUrl" disabled>Copiar Texto QR</button>
        </div>
      </section>

      <section id="settings" class="settings hidden">
        <h2>Ajustes</h2>
        <label>
          Calidad JPEG (<span id="qualityValue">0.60</span>)
          <input type="range" id="quality" min="0.1" max="1" step="0.05" />
        </label>
        <label>
          Escala (<span id="scaleValue">100%</span>)
          <input type="range" id="scale" min="0.25" max="1" step="0.05" />
        </label>
      </section>

      <section class="output">
        <canvas id="qrCanvas" width="260" height="260"></canvas>
        <div id="status" class="status"></div>
        <div id="fallback" class="fallback hidden">
          <p>No se pudo generar el QR.</p>
          <button id="uploadOption">Subir a servidor temporal</button>
          <button id="ocrOption">Extraer solo texto (OCR)</button>
        </div>
      </section>
    </main>

    <script src="vendor/qrcodegen.js"></script>
    <script src="popup.js"></script>
  </body>
</html>
